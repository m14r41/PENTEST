# SSH PENETRATION TESTING CHECKLIST

## Information Gathering

### 1. SSH Version Enumeration

- [ ] Identify the SSH protocol version in use.
   - **Command:** `ssh -V`

### 2. Banner Grabbing

- [ ] Gather SSH server banner information.
   - **Tools:** `nc`, `telnet`
   - **Command:** `nc target_ip port` or `telnet target_ip port`

### 3. User Enumeration

- [ ] Enumerate valid SSH usernames.
   - **Tools:** [Hydra](https://tools.kali.org/password-attacks/hydra), [Nmap](https://nmap.org/)
   - **Command:** `hydra -L users.txt -P passwords.txt ssh://target`

### 4. SSH Key Enumeration

- [ ] Enumerate SSH keys and their associated users.
   - **Command:** `find /home -name authorized_keys`

## Vulnerability Assessment

### 5. SSH Configuration Review

- [ ] Review SSH server configuration files for vulnerabilities.
   - **File Path:** `/etc/ssh/sshd_config`
   - **Command:** `cat /etc/ssh/sshd_config`

### 6. Password Policy Assessment

- [ ] Check SSH password policy settings.
   - **File Path:** `/etc/security/pwquality.conf`

### 7. SSH Key Analysis

- [ ] Identify SSH key-related vulnerabilities.
   - **Tools:** [ssh-audit](https://github.com/arthepsy/ssh-audit)
   - **Command:** `ssh-audit target_ip`

## Exploitation

### 8. Brute Force Attacks

- [ ] Test SSH accounts for weak or default passwords.
   - **Tools:** [Hydra](https://tools.kali.org/password-attacks/hydra), [Ncrack](https://github.com/nmap/ncrack)
   - **Command:** `hydra -L users.txt -P passwords.txt ssh://target`

### 9. Key-Based Attacks

- [ ] Attempt to crack weak or unprotected SSH keys.
   - **Tools:** [John the Ripper](https://www.openwall.com/john/), [SSHCrack](https://github.com/koboi137/sshcrack)
   - **Command:** `john --wordlist=wordlist.txt ssh2john output > hash.txt`

### 10. Man-in-the-Middle (MITM) Attacks

- [ ] Intercept SSH traffic to perform MITM attacks.
   - **Tools:** [SSH MITM](https://github.com/jtesta/ssh-mitm), [Ettercap](https://ettercap.github.io/ettercap/)

### 11. Exploiting Weak SSH Keys

- [ ] Attempt to exploit weak or insecure SSH keys.
   - **Tools:** [SSH-Weak-Key-Cracker](https://github.com/Plazmaz/SSH-Weak-Key-Cracker)
   - **Command:** `python ssh-weak-key-cracker.py --target target_ip --port port --key path/to/key`

## Post-Exploitation

### 12. Privilege Escalation

- [ ] Attempt privilege escalation on compromised SSH accounts.
   - **Tools:** Linux Privilege Escalation Tools
   - **Command:** Varies depending on the system and vulnerabilities

### 13. Data Exfiltration

- [ ] Test for data exfiltration methods through SSH.
   - **Tools:** SCP, SFTP, Netcat
   - **Commands:** `scp file.txt user@target:/path/`, `sftp user@target`, `nc -lp port > output.txt`

### 14. SSH Session Hijacking

- [ ] Attempt to hijack active SSH sessions.
   - **Tools:** [SSHjacker](https://github.com/ankh2054/sshjacker)
   - **Command:** `python sshjacker.py -t target_ip -u username`
